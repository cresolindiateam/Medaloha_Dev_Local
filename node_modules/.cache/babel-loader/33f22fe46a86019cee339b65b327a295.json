{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\MedalohaLivePush\\\\Medaloha_Dev_Local\\\\src\\\\pages\\\\Components\\\\ChatItem.js\";\nimport React from \"react\";\nimport { ListItem } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nrequire('dotenv').config();\nclass ChatItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.formatAMPM = date => {\n      var hours = date.getHours();\n      var minutes = date.getMinutes();\n      var ampm = hours >= 12 ? 'pm' : 'am';\n      hours = hours % 12;\n      hours = hours ? hours : 12; // the hour '0' should be '12'\n      minutes = minutes < 10 ? '0' + minutes : minutes;\n      var strTime = hours + ':' + minutes + ' ' + ampm;\n      return strTime;\n    };\n    this.state = {\n      urldata: \"\",\n      fname: \"\",\n      mediaUrl: \"\",\n      audioUrl: \"\"\n    };\n  }\n  componentDidMount() {\n    const {\n      message,\n      email,\n      id,\n      name,\n      path,\n      c_name,\n      c_path\n    } = this.props;\n    console.log(\"ajay\");\n    console.log(message);\n    //  if(message.media){\n    //   console.log(\"medialink1\");\n    // if(message.media){\n    //   console.log(\"rajasthan\");\n    console.log(message.media.mediaUrl);\n    // axios.get(process.env.REACT_APP_BASE_URL+'/authenticationAPI/TwilioApi?media='+message.media.sid)\n    // .then(res => { \n    //       this.setState({mediaUrl:res.data.links.content_direct_temporary})\n    //      this.setState({mediaUrl:\"\"})\n    //  });\n    //this.setState({mediaUrl:message})\n    //this.setState({mediaUrl:\"\"})\n    // console.log(message.media.mediaUrl);\n\n    // } else {\n    //        console.log(\"medialink\");\n\n    // console.log('Audio message URL:', message.media[0].getContentUrl());\n\n    // console.log(process.env.REACT_APP_BASE_URL+'/authenticationAPI/TwilioApi?media='+message.media.sid);\n    //   axios.get(process.env.REACT_APP_BASE_URL+'/authenticationAPI/TwilioApi?media='+message.media.sid)\n    //   .then(res => { \n    //         this.setState({audioUrl:res.data.links.content_direct_temporary})\n    //        this.setState({audioUrl:\"\"})\n    //    });  \n    // }\n\n    // }\n  }\n  render() {\n    const {\n      message,\n      email,\n      id,\n      name,\n      path,\n      c_name,\n      c_path,\n      MediaKey,\n      Media\n    } = this.props;\n    const isOwnMessage = message.author === email;\n    let MediaData = this.state.mediaUrl;\n    let AudioData = this.state.audioUrl;\n    return /*#__PURE__*/_jsxDEV(ListItem, {\n      className: \"tets\",\n      style: styles.listItem(isOwnMessage),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.author,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"avatar\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `${isOwnMessage ? path : c_path}`,\n            alt: \"User Image\",\n            class: \"avatar-img rounded-circle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 14\n        }, this), `${isOwnMessage ? name : c_name}`]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.container(isOwnMessage),\n        children: [message.body === null ? AudioData != '' ? /*#__PURE__*/_jsxDEV(\"audio\", {\n          controls: true,\n          children: /*#__PURE__*/_jsxDEV(\"source\", {\n            src: AudioData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 66\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 49\n        }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `${MediaData}`,\n          alt: MediaData,\n          style: {\n            width: '100px',\n            height: '60px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 101\n        }, this) : message.body, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-time\",\n          children: [message.media === null ? '' : /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"chat-msg-attachments\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"chat-attachment\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: `${this.state.urldata}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 101\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"chat-attach-caption\",\n                children: this.state.fname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 138\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `${this.state.urldata + '?force=true'}`,\n                target: \"_blank\",\n                class: \"chat-attach-download\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fas fa-download\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 288\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 195\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 72\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 38\n          }, this), this.formatAMPM(new Date(message.dateCreated))\n          //new Date(message.dateCreated.toISOString()).toLocaleString()\n          ]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 12\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this);\n  }\n}\nconst styles = {\n  listItem: isOwnMessage => ({\n    flexDirection: \"column\",\n    alignItems: isOwnMessage ? \"flex-end\" : \"flex-start\"\n  }),\n  container: isOwnMessage => ({\n    maxWidth: \"75%\",\n    borderRadius: 12,\n    padding: 16,\n    color: \"black\",\n    fontSize: 12,\n    backgroundColor: isOwnMessage ? \"#e3e3e3\" : \"#fff\"\n  }),\n  author: {\n    fontSize: 10,\n    color: \"gray\"\n  },\n  timestamp: {\n    fontSize: 8,\n    color: \"white\",\n    textAlign: \"right\",\n    paddingTop: 4\n  }\n};\nexport default ChatItem;","map":{"version":3,"names":["React","ListItem","axios","jsxDEV","_jsxDEV","require","config","ChatItem","Component","constructor","props","formatAMPM","date","hours","getHours","minutes","getMinutes","ampm","strTime","state","urldata","fname","mediaUrl","audioUrl","componentDidMount","message","email","id","name","path","c_name","c_path","console","log","media","render","MediaKey","Media","isOwnMessage","author","MediaData","AudioData","className","style","styles","listItem","children","class","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","container","body","controls","width","height","href","target","Date","dateCreated","flexDirection","alignItems","maxWidth","borderRadius","padding","color","fontSize","backgroundColor","timestamp","textAlign","paddingTop"],"sources":["C:/xampp/htdocs/MedalohaLivePush/Medaloha_Dev_Local/src/pages/Components/ChatItem.js"],"sourcesContent":["import React from \"react\";\r\nimport { ListItem } from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\nrequire('dotenv').config();\r\nclass ChatItem extends React.Component {\r\nconstructor(props) {\r\n  super(props);\r\n this.state = {\r\n    urldata:\"\",\r\n    fname:\"\"  ,\r\n    mediaUrl:\"\",\r\n    audioUrl:\"\"\r\n   } \r\n}\r\n    formatAMPM= (date)=> {\r\n    var hours = date.getHours();\r\n    var minutes = date.getMinutes();\r\n    var ampm = hours >= 12 ? 'pm' : 'am';\r\n    hours = hours % 12;\r\n    hours = hours ? hours : 12; // the hour '0' should be '12'\r\n    minutes = minutes < 10 ? '0'+minutes : minutes;\r\n    var strTime = hours + ':' + minutes + ' ' + ampm;\r\n    return strTime;\r\n  }\r\n\r\n  componentDidMount(){\r\n    const { message, email,id,name,path,c_name,c_path} = this.props;\r\n    console.log(\"ajay\");\r\n    console.log(message);\r\n        //  if(message.media){\r\n        //   console.log(\"medialink1\");\r\n        // if(message.media){\r\n        //   console.log(\"rajasthan\");\r\n           console.log(message.media.mediaUrl);\r\n          // axios.get(process.env.REACT_APP_BASE_URL+'/authenticationAPI/TwilioApi?media='+message.media.sid)\r\n          // .then(res => { \r\n          //       this.setState({mediaUrl:res.data.links.content_direct_temporary})\r\n          //      this.setState({mediaUrl:\"\"})\r\n          //  });\r\n //this.setState({mediaUrl:message})\r\n            //this.setState({mediaUrl:\"\"})\r\n                      // console.log(message.media.mediaUrl);\r\n\r\n        // } else {\r\n   //        console.log(\"medialink\");\r\n          \r\n   // console.log('Audio message URL:', message.media[0].getContentUrl());\r\n\r\n         // console.log(process.env.REACT_APP_BASE_URL+'/authenticationAPI/TwilioApi?media='+message.media.sid);\r\n        //   axios.get(process.env.REACT_APP_BASE_URL+'/authenticationAPI/TwilioApi?media='+message.media.sid)\r\n        //   .then(res => { \r\n        //         this.setState({audioUrl:res.data.links.content_direct_temporary})\r\n        //        this.setState({audioUrl:\"\"})\r\n        //    });  \r\n        // }\r\n      \r\n       // }\r\n       \r\n   }\r\n\r\n\r\n  render() { \r\n     const { message, email,id,name,path,c_name,c_path,MediaKey,Media } = this.props;\r\n     const isOwnMessage = message.author === email;   \r\n        let  MediaData =  this.state.mediaUrl;\r\n        let  AudioData =  this.state.audioUrl;\r\n    return ( \r\n      <ListItem  className=\"tets\" style={styles.listItem(isOwnMessage)}>\r\n        <div  style={styles.author}> \r\n             <div class=\"avatar\">\r\n                  <img src={`${isOwnMessage?path:c_path}`}  alt=\"User Image\" class=\"avatar-img rounded-circle\"/> \r\n              </div>\r\n            {`${isOwnMessage?name:c_name}`}\r\n        </div>\r\n           <div style={styles.container(isOwnMessage)}>\r\n           {\r\n            message.body===null?(AudioData!='')?<audio controls ><source src={AudioData} /></audio>:<img src={`${MediaData}`} alt={MediaData} style={{width:'100px',height:'60px'}} />:message.body\r\n\r\n            }\r\n          <div className=\"chat-time\">\r\n          {(message.media===null)?'':<div class=\"chat-msg-attachments\"><div class=\"chat-attachment\"><img src={`${this.state.urldata}`} /><div class=\"chat-attach-caption\">{this.state.fname}</div><a href={`${this.state.urldata+'?force=true'}`} target=\"_blank\" class=\"chat-attach-download\"><i class=\"fas fa-download\"></i></a></div></div>}\r\n            {  \r\n             this.formatAMPM(new Date(message.dateCreated)) \r\n             //new Date(message.dateCreated.toISOString()).toLocaleString()\r\n            }\r\n          </div>\r\n        </div>\r\n      </ListItem>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = {\r\n  listItem: (isOwnMessage) => ({\r\n    flexDirection: \"column\",\r\n    alignItems: isOwnMessage ? \"flex-end\" : \"flex-start\",\r\n  }),\r\n  container: (isOwnMessage) => ({\r\n    maxWidth: \"75%\",\r\n    borderRadius: 12,\r\n    padding: 16,\r\n    color: \"black\",\r\n    fontSize: 12,\r\n    backgroundColor: isOwnMessage ? \"#e3e3e3\" : \"#fff\",\r\n  }),\r\n  author: { fontSize: 10, color: \"gray\" },\r\n  timestamp: { fontSize: 8, color: \"white\", textAlign: \"right\", paddingTop: 4 },\r\n};\r\n\r\nexport default ChatItem;"],"mappings":"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"},"metadata":{},"sourceType":"module"}